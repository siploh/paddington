<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paddington homestay</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">

<style>
:root{
  --gold:#c9a24d;
  --dark:#1c1c1c;
  --soft:#f5f5f5;
}

*{box-sizing:border-box;font-family:'Poppins',sans-serif}
html{scroll-behavior:smooth}
body{margin:0;color:#333}

/* NAVBAR */
.navbar{
  position:fixed;top:0;left:0;width:100%;
  padding:14px 8%;
  display:flex;justify-content:space-between;align-items:center;
  background:linear-gradient(to right,rgba(0,0,0,.75),rgba(30,30,30,.75));
  backdrop-filter:blur(12px);
  z-index:1000;
}
.logo{color:#fff;font-size:24px;font-weight:600}
.navbar ul{list-style:none;display:flex;gap:32px;margin:0;padding:0}
.navbar ul li a{color:#fff;text-decoration:none;font-weight:500}
.navbar ul li a:hover{color:var(--gold)}
.menu-btn{display:none;color:#fff;font-size:26px;cursor:pointer}

@media(max-width:768px){
  .navbar ul{
    position:absolute;top:70px;right:8%;
    background:rgba(0,0,0,.9);
    flex-direction:column;
    width:190px;border-radius:14px;
    padding:16px;gap:16px;
    display:none;
  }
  .navbar ul.show{display:flex}
  .menu-btn{display:block}
}

.spacer{height:80px}

/* HERO */
.hero{
  height:100vh;
  background:linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.55)),
  url("https://images.unsplash.com/photo-1501117716987-c8e1ecb210f1") center/cover;
  display:flex;align-items:center;
  padding:60px 8%;
  color:#fff;
}
.hero h1{font-size:48px}
.hero p{font-size:18px}
.hero a{
  background:var(--gold);
  padding:14px 32px;
  border-radius:30px;
  color:#fff;text-decoration:none;font-weight:600;
}

/* SECTION */
section{padding:70px 8%}
.section-title{text-align:center;margin-bottom:40px}
.section-title span{color:var(--gold)}

/* ROOMS */
.rooms{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:30px;
}
.room{
  background:#fff;
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.1);
  cursor:pointer;
  transition:.3s;
}
.room:hover{transform:translateY(-6px)}
.room img{width:100%;height:200px;object-fit:cover}
.room .content{padding:20px}
.price{color:var(--gold);font-weight:600}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2000;
}
.modal.active{display:flex}
.modal-box{
  background:#fff;
  width:90%;
  max-width:500px;
  border-radius:18px;
  overflow:hidden;
}
.modal-box img{width:100%;height:220px;object-fit:cover}
.modal-content{padding:25px}
.modal-price{color:var(--gold);font-weight:600;margin:15px 0}
.modal-actions{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.modal-actions button{
  background:var(--gold);
  color:#fff;
  padding:12px 26px;
  border-radius:25px;
  border:none;
  cursor:pointer;
  font-weight:600;
}
.close-btn{font-size:22px;cursor:pointer;color:#999}

/* BOOKING (DIUBAH) */
.booking{
  background:var(--soft);
  border-radius:20px;
  padding:40px;
  max-width:700px;
  margin:auto;
}
.booking input,
.booking select,
.booking button{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  border-radius:8px;
  border:1px solid #ddd;
}
.booking button{
  background:var(--dark);
  color:#fff;font-weight:600;cursor:pointer;
}
.booking button:hover{background:var(--gold)}
#status{margin-top:10px;font-weight:600;color:green}

/* FOOTER */
footer{
  background:#111;
  color:#bbb;
  padding:50px 8% 30px;
}
.footer-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:30px;
  margin-bottom:30px;
}
.footer-grid h3{
  color:#fff;
  margin-bottom:12px;
}
.footer-grid p{
  margin:6px 0;
  font-size:14px;
}
.footer-bottom{
  text-align:center;
  border-top:1px solid #333;
  padding-top:20px;
  font-size:14px;
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar" data-aos="fade-down">
  <div class="logo">Paddington</div>
  <ul id="navMenu">
    <li><a href="#home">Home</a></li>
    <li><a href="#rooms">Kamar</a></li>
    <li><a href="#booking">Booking</a></li>
  </ul>
  <div class="menu-btn" onclick="toggleMenu()">‚ãÆ</div>
</nav>

<div id="home" class="spacer"></div>

<!-- HERO -->
<div class="hero">
  <div data-aos="fade-up">
    <h1>Paddington homestay</h1>
    <p>Clean, Convenient & Comfortable</p>
    <a href="#booking">Pesan Sekarang</a>
  </div>
</div>

<!-- ROOMS -->
<section id="rooms">
  <div class="section-title">
    <h2>Pilihan <span>Kamar</span></h2>
  </div>

  <div class="rooms">
    <div class="room" onclick="openModal('Standard Room','https://images.unsplash.com/photo-1560448204-e02f11c3d0e2','Kamar nyaman dan bersih.','Rp 250.000 / malam')">
      <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2">
      <div class="content">
        <h3>Standard Room</h3>
        <p>Kamar nyaman dan bersih</p>
        <div class="price">Rp 250.000 / malam</div>
      </div>
    </div>

    <div class="room" onclick="openModal('Deluxe Room','https://images.unsplash.com/photo-1505691938895-1758d7feb511','Kamar luas dan elegan.','Rp 400.000 / malam')">
      <img src="https://images.unsplash.com/photo-1505691938895-1758d7feb511">
      <div class="content">
        <h3>Deluxe Room</h3>
        <p>Lebih luas dan elegan</p>
        <div class="price">Rp 400.000 / malam</div>
      </div>
    </div>

    <div class="room" onclick="openModal('Family Room','https://images.unsplash.com/photo-1618773928121-c32242e63f39','Cocok untuk keluarga.','Rp 600.000 / malam')">
      <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39">
      <div class="content">
        <h3>Family Room</h3>
        <p>Cocok untuk keluarga</p>
        <div class="price">Rp 600.000 / malam</div>
      </div>
    </div>
  </div>
</section>

<!-- MODAL -->
<div class="modal" id="roomModal" onclick="closeModal(event)">
  <div class="modal-box">
    <img id="modalImg">
    <div class="modal-content">
      <h3 id="modalTitle"></h3>
      <p id="modalDesc"></p>
      <div class="modal-price" id="modalPrice"></div>
      <div class="modal-actions">
        <button onclick="goBooking()">Pesan Sekarang</button>
        <span class="close-btn" onclick="closeModal()">‚úï</span>
      </div>
    </div>
  </div>
</div>

<!-- BOOKING (DIUBAH MENJADI SCRIPT DINAMIS) -->
<section id="booking">
  <div class="section-title">
    <h2>Form <span>Booking</span></h2>
  </div>

  <div class="booking">
    <form id="bookingForm">
      <input name="nama" placeholder="Nama Lengkap" required>
      <input name="hp" placeholder="No HP / WhatsApp" required>

      <label>Check-in</label>
      <input type="date" name="checkin" id="checkin" required>

      <label>Check-out</label>
      <input type="date" name="checkout" id="checkout" required>

      <select name="tipe" id="tipeSelect" required>
        <option value="">Pilih Tipe Kamar</option>
      </select>

      <button type="submit">Booking</button>
    </form>
    <p id="status"></p>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-grid">
    <div>
      <h3>Paddington Homestay</h3>
      <p>Penginapan nyaman, bersih, dan strategis untuk perjalanan Anda.</p>
    </div>
    <div>
      <h3>Alamat</h3>
      <p>Jalan KL. Yos Sudarso No. 43A, Glugur Kota, </p>
      <p>Kecamatan Medan Barat, Medan, Sumatera Utara</p>
    </div>
    <div>
      <h3>Kontak</h3>
      <p>üìû 0852-6101-6861</p>
      <p>üìß paddingtonhomestay@email.com</p>
    </div>
  </div>
  <div class="footer-bottom">
    ¬© 2026 Paddington homestay. All rights reserved.
  </div>
</footer>

<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>AOS.init({duration:900,once:true});</script>

<script>
let selectedRoom="";
function toggleMenu(){
  document.getElementById("navMenu").classList.toggle("show");
}
function openModal(title,img,desc,price){
  selectedRoom=title;
  modalTitle.innerText=title;
  modalImg.src=img;
  modalDesc.innerText=desc;
  modalPrice.innerText=price;
  roomModal.classList.add("active");
}
function closeModal(e){
  if(!e || e.target.id==="roomModal"){
    roomModal.classList.remove("active");
  }
}
function goBooking(){
  roomModal.classList.remove("active");
  document.getElementById("tipeSelect").value=selectedRoom;
  location.href="#booking";
}
</script>

<!-- SCRIPT BOOKING DINAMIS -->
<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbzph3yr9YJmwvseHUUDO-_JdHJo8gzvs-sLhwrv3C1XHzKKbmndbaHr7FdnR7-SE9A-/exec";
const form = document.getElementById("bookingForm");
const statusEl = document.getElementById("status");
const checkin = document.getElementById("checkin");
const checkout = document.getElementById("checkout");
const tipeSelect = document.getElementById("tipeSelect");

let data = {kamar:[], booking:[]};

async function loadData(){
  try{
    const res = await fetch(WEB_APP_URL);
    data = await res.json();
    updateDropdown();
  }catch(e){
    console.log("Gagal load data", e);
  }
}

function overlap(a,b,c,d){
  return new Date(a)<new Date(d) && new Date(c)<new Date(b);
}

function updateDropdown(){
  const ci = checkin.value;
  const co = checkout.value;
  tipeSelect.innerHTML='<option value="">Pilih Tipe Kamar</option>';
  if(!ci||!co) return;

  data.kamar.forEach(k=>{
    let used=0;
    data.booking.forEach(b=>{
      if(b.tipe===k.tipe && overlap(ci,co,b.checkin,b.checkout)) used++;
    });
    const sisa = k.total - used;
    if(sisa>0){
      tipeSelect.innerHTML += `<option value="${k.tipe}">${k.tipe} - tersedia ${sisa}</option>`;
    }
  });
}

checkin.onchange = updateDropdown;
checkout.onchange = updateDropdown;

form.onsubmit = async (e)=>{
  e.preventDefault();
  statusEl.className="";
  statusEl.innerText="‚è≥ Memproses booking...";
  try{
    const formData = new FormData(form);
    const res = await fetch(WEB_APP_URL,{method:"POST",body:formData});
    const text = await res.text();
    if(text==="SUCCESS"){
      statusEl.className="success";
      statusEl.innerText="‚úÖ Booking berhasil!";
      form.reset();
      await loadData();
    }else if(text==="FULL"){
      statusEl.className="error";
      statusEl.innerText="‚ùå Maaf, kamar sudah penuh di tanggal tersebut.";
    }else{
      statusEl.className="error";
      statusEl.innerText="‚ùå Terjadi kesalahan. Coba lagi.";
    }
  }catch(err){
    statusEl.className="error";
    statusEl.innerText="‚ùå Gagal mengirim data.";
  }
};

window.onload = loadData;
</script>

</body>
</html>
